<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Bloody Way to C</title>

  <link rel="icon" type="image/svg+xml" href="./logo.svg">

  <style>
    body {
      font-family: sans-serif;
      line-height: 1.6;
      margin: 2em auto;
      max-width: 800px;
      padding: 0 1em;
      background-color: #fdfdfd;
      color: #222;
    }

    h1, h2, h3, h4 {
      font-family: sans-serif;
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.2em;
      margin-top: 2em;
    }

    pre, code {
      background-color: #f5f5f5;
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-family: monospace;
      overflow-x: auto;
    }

    pre {
      padding: 1em;
      overflow: auto;
      background-color: #f0f0f0;
    }

    blockquote {
      border-left: 4px solid #ccc;
      padding-left: 1em;
      color: #666;
      margin-left: 0;
    }

    a {
      color: #0645ad;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin: 1em 0;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 0.5em;
      text-align: left;
    }

    img {
      max-width: 100%;
    }

    /* DARK MODE */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #1e1e1e;
        color: #ccc;
      }

      pre, code {
        background-color: #2d2d2d;
        color: #f8f8f2;
      }

      pre {
        background-color: #2d2d2d;
      }

      h1, h2, h3, h4 {
        border-color: #555;
        color: #fff;
      }

      blockquote {
        border-left: 4px solid #666;
        color: #aaa;
      }

      a {
        color: #88c0d0;
      }

      table, th, td {
        border-color: #444;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>The Bloody Way to C</h1>
    <p><em>by Simone Lungarella (simonelungarella@gmail.com)</em></p>
    <p><small>2025-05-11</small></p>
  </header>

  <main>
    <h1 class="unnumbered" id="preface">Preface</h1>
    <p>This e-book is a <strong>humble</strong> attempt to describe
    <em>C</em> language while actively trying to learn it. I enjoy
    writing code and technical documentation and I decided to produce
    this guide under <a
    href="https://github.com/simone-lungarella/the-bloody-way-to-c/blob/master/LICENSE">MIT
    licence</a>. It is <em>not</em> intended to be fully comprehensive
    and complete, it only contains what I’ve learned and follows my very
    personal style.</p>
    <p>It will be consistently updated and improved until completion and
    kept—as much as possible—accessible.</p>
    <p>To understand every aspect of <em>C</em>, many tools will be used
    and all examples will refer to <a
    href="https://en.wikipedia.org/wiki/Command-line_interface">CLI</a>
    commands. I will be using <a href="https://neovim.io/">Neovim</a> as
    text editor and operate on a Linux machine. The output of commands
    and all examples may differ from machine to machine but the concepts
    will hopefully remain valid.</p>
    <p>I strongly believe that the best way to develop software is by
    using <em>CLI</em> and lightweight text editors such as
    <code>neovim</code> or <code>vim</code>. Whenever it is possible, I
    will avoid using browsers to search for documentation by preferring
    usage of <code>man</code> directly into the terminal. This will keep
    low the friction and avoid the necessity to leave the home row of my
    keyboard.</p>
    <h1 class="unnumbered" id="introduction">Introduction</h1>
    <p>C was invented in <a
    href="https://it.wikipedia.org/wiki/Bell_Laboratories">Bell Labs</a>
    when <a href="https://it.wikipedia.org/wiki/Ken_Thompson">Ken
    Thompson</a> was working on Unix. Following the idea that a good
    operating system should have had a high level compiled language.
    After abandoning the first attempt on creating a compiler for <a
    href="https://it.wikipedia.org/wiki/Fortran">Fortran</a>, a smaller
    new language was created and named <a
    href="https://en.wikipedia.org/wiki/B_(programming_language)"><em>B</em></a>.
    <em>B</em> better fitted <a
    href="https://en.wikipedia.org/wiki/PDP-11">P2P11</a> but was not
    enough to port Unix from Assembly. <a
    href="https://en.wikipedia.org/wiki/C_(programming_language)"><em>C</em></a>
    was created with a set of feature that were missing in <em>B</em>
    and was a much better fit for the Unix system.</p>
    <p><em>C</em> was a better language mainly because its multiple
    distinct types:</p>
    <ul class="incremental">
    <li>pointers;</li>
    <li>integer;</li>
    <li>floating point numbers: float;</li>
    </ul>
    <p>In that sense, <em>C</em> language can be visualized as
    <em>B</em> with types where all types can also be imagined as
    integers since pointers—in very simple terms—are integers and so are
    structures. In fact, structures are a set of integers representing
    offsets of each field position in memory and values of the very same
    fields. This simplicity can be considered the strength of the
    language as it can be easily picked up by new developers, layered to
    build a powerful abstraction and, with that, imagine in simple terms
    complex topics and algorithms.</p>
    <h1 id="execute-a-c-program">Execute a C program</h1>
    <p><em>C</em> is a compiled language, this means that you cannot
    execute a file containing the main function. It requires to be
    compiled in an executable program.</p>
    <p>You can use: <code>cc</code> to compile a <em>C</em> program.
    <code>cc</code> is a Unix command that let you easily communicate
    with the compiler. You can use: <code>cc --version</code> to check
    what compiler does it use.</p>
    <div class="sourceCode" id="cb1"><pre
    class="sourceCode txt"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>cc (GCC) 14.2.1 20240912 (Red Hat 14.2.1-3)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>Copyright (C) 2024 Free Software Foundation, Inc.</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>This is free software; see the source for copying conditions.  There is NO</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></code></pre></div>
    <p>Let’s consider the following simple <em>C</em> program contained
    in a file named—for instance—<em>hello_world.c</em> (how
    original):</p>
    <div class="sourceCode" id="cb2"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;Hello World</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>You can use: <code>cc hello_world.c</code> to compile it to an
    executable program.</p>
    <p>The compiler generates an executable binary file named:
    <em>a.out</em>. This file is executable and runs your program. You
    can use: <code>file a.out</code> to check information about the
    generated file.</p>
    <div class="sourceCode" id="cb3"><pre
    class="sourceCode txt"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>./a.out: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked, \</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>interpreter /lib64/ld-linux-x86-64.so.2, \</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>BuildID[sha1]=d589730d718a032a35f848fe8d280063a6cee18c, \</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>for GNU/Linux 3.2.0, not stripped</span></code></pre></div>
    <p>If you want to check the content of the generated binary file,
    you can use: <code>hexdump -C a.out</code>.</p>
    <p>You can also generate <a
    href="https://en.wikipedia.org/wiki/Assembly_language">Assembly</a>
    code using: <code>cc -S hello_world.c</code> if the compiler
    supports this feature.</p>
    <div class="sourceCode" id="cb4"><pre
    class="sourceCode gnuassembler"><code class="sourceCode gnuassembler"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.file</span>   <span class="st">&quot;hello_world.c&quot;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.text</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.section</span>    <span class="kw">.rodata</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">.LC0:</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.string</span> <span class="st">&quot;Hello World&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.text</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.globl</span>  main</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.type</span>   main<span class="op">,</span> <span class="co">@function</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">main:</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">.LFB0:</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    .cfi_startproc</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">pushq</span>   <span class="op">%</span><span class="kw">rbp</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    .cfi_def_cfa_offset <span class="dv">16</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    .cfi_offset <span class="dv">6</span><span class="op">,</span> <span class="op">-</span><span class="dv">16</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">movq</span>    <span class="op">%</span><span class="kw">rsp</span><span class="op">,</span> <span class="op">%</span><span class="kw">rbp</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    .cfi_def_cfa_register <span class="dv">6</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">movl</span>    $.LC0<span class="op">,</span> <span class="op">%</span><span class="kw">edi</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">call</span>    puts</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">movl</span>    <span class="dv">$0</span><span class="op">,</span> <span class="op">%</span><span class="kw">eax</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">popq</span>    <span class="op">%</span><span class="kw">rbp</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    .cfi_def_cfa <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ret</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    .cfi_endproc</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="fu">.LFE0:</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.size</span>   main<span class="op">,</span> .<span class="op">-</span>main</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.ident</span>  <span class="st">&quot;GCC: (GNU) 14.2.1 20240912 (Red Hat 14.2.1-3)&quot;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">.section</span>    .note.GNU<span class="op">-</span>stack<span class="op">,</span><span class="st">&quot;&quot;</span><span class="op">,</span><span class="co">@progbits</span></span></code></pre></div>
    <p>With a given compiler, you can tweak many compilation aspects.
    For instance, <code>cc -O2 hello_world.c</code> tells the compiler
    to optimize the generated executable. A more optimized version of
    the executable is also slower to be generated and, if that does not
    make much sense for small programs, it can output a much better
    version of the program when a high enough level of complexity has
    been reached.</p>
    <p>With <a
    href="https://en.wikipedia.org/wiki/GNU_Compiler_Collection">GCC</a>
    compiler, you can see that our simple program make use of
    <em>puts</em> <a
    href="https://en.wikipedia.org/wiki/System_call">syscall</a>,
    however, this depends on the compiler itself and, often, with
    different compilers, the line: <code>printf("Hello World\n");</code>
    is compiled using <em>printf</em> instead.</p>
    <p>Using <code>-O2</code> flag can make the compiler use
    <em>puts</em> as this syscall is faster than <em>printf</em>. This
    is a simple, yet meaningful, example but in such a small program it
    does make no difference in terms of execution speed. The compiler is
    very good at improving written programs if given enough time. While
    developing, though, a low compilation time is often preferred.</p>
    <blockquote>
    <p>You can check the standard C library from the terminal using
    <code>man</code> or <code>--help</code> flags. For example, you can
    use <code>man 3 puts</code> or <code>man 3 printf</code> to check
    documentation of both syscalls (3 makes sure to output the C library
    description).</p>
    </blockquote>
    <h1 id="include-other-source-code">Include other source code</h1>
    <p>In the very first line of our simple program, you can see a <a
    href="https://en.wikipedia.org/wiki/Preprocessor">preprocessor</a>
    <a
    href="https://en.wikipedia.org/wiki/Directive_(programming)">directive</a>.
    This line simply tells to the compiler that a file need to be
    included into the program. The compiler, before the compilation,
    take the content of the file and <em>paste</em> it at the location.
    In this case, <code>&lt;stdio.h&gt;</code> declares the prototype of
    <em>printf</em> function so to instruct the compiler on how to
    execute that specific call. To prove this point, you can remove the
    first line and replace it with:
    <code>int printf(const char *restrict format, ...);</code> which is
    the prototype of the function we want to call.</p>
    <div class="sourceCode" id="cb5"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> printf<span class="op">(</span><span class="dt">const</span> <span class="dt">char</span> <span class="op">*</span><span class="dt">restrict</span> format<span class="op">,</span> <span class="op">...);</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;Hello World</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">);</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p><code>#include</code> can also be used to include other
    <em>C</em> files. In fact, you can move a single line to a different
    file and than compile a program that includes the file on the line
    you want it to be replaced.</p>
    <div class="sourceCode" id="cb6"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="pp">#include </span><span class="im">&quot;file.c&quot;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>The generated assembly or machine code will be equivalent.</p>
    <h1 id="functions">Functions</h1>
    <p>This very simple program has a single function named
    <em>main</em>. A function has always a return type, an
    <em>optional</em> list of parameters, and a body. The signature of
    the function <em>main</em> has a return type specified as
    <code>int</code>—this means that the function must return an integer
    value.</p>
    <p>Parameters are defined inside the brackets of the function and
    they too have a specific type. It is also possible to define a
    function that does not require any parameter. This can be explicit,
    using <code>void</code> as the function <code>main</code> does, or
    implicit, by simply avoiding specifying any parameter:
    <code>int main() {}</code>.</p>
    <p>Functions can call other functions too!</p>
    <div class="sourceCode" id="cb7"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> sum<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;Hello World </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> sum<span class="op">(</span><span class="dv">10</span><span class="op">,</span> <span class="dv">20</span><span class="op">));</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>The function <code>main</code> is a special function, in fact, it
    is the only function that is automatically called by the program.
    Other functions must be explicitly called. This means that a valid
    <em>C</em> program must define the <em>main</em> function.</p>
    <h1 id="variables">Variables</h1>
    <p>Functions parameters are variables existing only during the
    function execution. There are variables which are not involved only
    in function calls but also have a meaning in the callee context or
    even in the whole program context.</p>
    <h2 id="scope">Scope</h2>
    <p>Variables can have different scope. In the previous example, the
    function <code>int sum(int a, int b)</code> has two variables as
    parameters having a local scope. When variables are local, they are
    valid only within the function context and have no meaning to other
    functions.</p>
    <p>To understand this concept, let’s consider the following
    program:</p>
    <div class="sourceCode" id="cb8"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> sum<span class="op">(</span><span class="dt">int</span> a<span class="op">,</span> <span class="dt">int</span> b<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> a <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> c <span class="op">=</span> <span class="dv">20</span><span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;Hello World </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> sum<span class="op">(</span>a<span class="op">,</span> c<span class="op">));</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>This is a valid <em>C</em> program, equivalent to the previous,
    and, as you can see, the variable named <code>a</code> exists twice
    with the same name. This is possible because in both cases, the
    variable scope is local to the function itself and it’s removed
    after the function has returned its value.</p>
    <blockquote>
    <p>The function <code>main</code> has a return type but since it is
    automatically called by the program, the only one that can be
    interested in its value is the callee: the program executor. If
    executed from a shell, the program returns its value and can be
    shown with <code>./a.out; echo $?</code>. This is quite useful
    combined with the fact that <code>0</code> is equivalent to
    <code>true</code> in Unix shells.</p>
    </blockquote>
    <p>Variables can also have a global scope. A global variable is seen
    by every function and initialized only once.</p>
    <div class="sourceCode" id="cb9"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> x <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> incr<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> x <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    incr<span class="op">();</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    incr<span class="op">();</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>In such cases the value of <code>x</code> is incremented by one
    each time the function is called. Values of local variables can also
    be retained through multiple function calls if they are defined as
    static: <code>static int x = 0;</code>.</p>
    <p>It’s important to highlight that, in <em>C</em>, variables are
    passed <strong>by value</strong>. This means that whenever a
    function is called, it cannot modify any existing variable local to
    the callee but, for each of its parameters, a copy of the value is
    passed. To modify local variables with functions it is necessary to
    use <em>pointers</em> which will be described extensively in a
    dedicated chapter.</p>
    <h2 id="type">Type</h2>
    <p>We have seen variables having type <em>int</em>, but there are
    multiple primitive types that can define different kinds of data.
    For simplicity, a subset of common primitive types is shown into the
    following table, refer to the <a
    href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Primitive-Types">standard
    documentation</a> to explore all different existing types.</p>
    <table style="width:100%;">
    <colgroup>
    <col style="width: 25%" />
    <col style="width: 26%" />
    <col style="width: 47%" />
    </colgroup>
    <thead>
    <tr class="header">
    <th>Type</th>
    <th style="text-align: center;">Common size (b)</th>
    <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr class="odd">
    <td>int</td>
    <td style="text-align: center;">32</td>
    <td>Signed integer numbers</td>
    </tr>
    <tr class="even">
    <td>float</td>
    <td style="text-align: center;">32</td>
    <td>Floating point numbers</td>
    </tr>
    <tr class="odd">
    <td>double</td>
    <td style="text-align: center;">64</td>
    <td>High precision floating point numbers</td>
    </tr>
    <tr class="even">
    <td>char</td>
    <td style="text-align: center;">8</td>
    <td>Characters</td>
    </tr>
    <tr class="odd">
    <td>short</td>
    <td style="text-align: center;">16</td>
    <td>Shorter signed integer numbers</td>
    </tr>
    </tbody>
    </table>
    <blockquote>
    <p>All size reported are not guaranteed by C specification, it
    mainly depends on architectures.</p>
    </blockquote>
    <p>In many cases, types are automatically <em>promoted</em> to a
    higher size type to easily handle similar cases. For instance,
    <code>printf</code> will promote <code>char</code> or
    <code>short</code> values to <code>int</code> enabling developers to
    simplify the usage of the function.</p>
    <div class="sourceCode" id="cb10"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>    <span class="dt">short</span> s <span class="op">=</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// `s` is automatically converted.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> s<span class="op">);</span></span></code></pre></div>
    <p>This happens with functions such as <code>printf</code>, which
    accept a variable number of parameters (variadic function), but also
    during expressions evaluations if necessary.</p>
    <div class="sourceCode" id="cb11"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> c <span class="op">=</span> <span class="dv">127</span><span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Before evaluation, `c` is promoted to int.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> c <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span></code></pre></div>
    <p>Since the size of types is variable and depends on the
    architecture, there is a specific function that returns the size of
    a specific variable: <code>sizeof(var)</code>.</p>
    <p>Variables can represent a single value or a collection of values.
    To define a variable and store multiple values of the same type,
    <em>C</em> provides <strong>Arrays</strong>.</p>
    <div class="sourceCode" id="cb12"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> array<span class="op">[</span><span class="dv">5</span><span class="op">]</span> <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">};</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> array<span class="op">[</span><span class="dv">0</span><span class="op">]);</span></span></code></pre></div>
    <p>Arrays can store multiple values in different positions and track
    a contiguous block of memory. To access value in a specific position
    you can use each index starting from <code>0</code> up to
    <code>n-1</code>.</p>
    <p>Arrays of characters are named <em>strings</em>, and—since they
    are very common—there is a simpler way to initialize them:</p>
    <div class="sourceCode" id="cb13"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> phrase<span class="op">[]</span> <span class="op">=</span> <span class="st">&quot;Hello World&quot;</span><span class="op">;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%s\n</span><span class="st">&quot;</span><span class="op">,</span> phrase<span class="op">);</span></span></code></pre></div>
    <p>It is not mandatory to set the size of the array as the compiler
    will automatically do it by checking the its size. You can evaluate
    the size of a string too using: <code>sizeof(string)</code>, which
    is also evaluated at compile time.</p>
    <blockquote>
    <p>You will notice that the size of strings, returned by
    <code>sizeof</code>, is always greater than the amount of character
    in the string. Strings always require the null terminator:
    <code>\0</code> that tells the program when the array ends and
    initializing a string using quotes automatically adds the null
    terminator.</p>
    </blockquote>
    <h1 id="code-blocks">Code blocks</h1>
    <p>Code blocks are blocks delimited by brackets that can be part of
    functions. Each function has at least one code block. Variables
    declared in a specific block have a local meaning and occupy a
    different memory block.</p>
    <div class="sourceCode" id="cb14"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">{</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> i <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// (4 bytes) stored at 0x7fff7cae44b8</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;(</span><span class="sc">%zu</span><span class="st"> bytes) stored at </span><span class="sc">%p\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>i<span class="op">),</span> <span class="op">&amp;</span>i<span class="op">);</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// (4 bytes) stored at 0x7fff7cae44bc</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;(</span><span class="sc">%zu</span><span class="st"> bytes) stored at </span><span class="sc">%p\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="kw">sizeof</span><span class="op">(</span>i<span class="op">),</span> <span class="op">&amp;</span>i<span class="op">);</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <blockquote>
    <p><code>&amp;i</code> returns the memory address where the variable
    is stored, more about <em>pointers</em> in the following
    chapters.</p>
    </blockquote>
    <p>This simple program will show how the two variables, having the
    same name, will be stored in two consecutive memory blocks that
    differ by exactly 4 bytes (from 0x[…]8 to 0x[…]c).</p>
    <h2 id="conditional-code-blocks">Conditional code blocks</h2>
    <p>Often, the linear execution of a program needs to be interrupted
    to take a direction based on a specific condition. Conditional code
    blocks are blocks of code executed only if a specific requirement is
    satisfied.</p>
    <p>The keyword <code>if</code> defines a conditional block and the
    condition that needs to be met for the execution:</p>
    <div class="sourceCode" id="cb15"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>i<span class="op">&gt;</span> <span class="dv">3</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;Value </span><span class="sc">%d</span><span class="st"> is greater than 3</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;Value </span><span class="sc">%d</span><span class="st"> is not greater than 3</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>Conditional blocks are optionally enhanced with <code>else</code>
    or multiple <code>else if</code> constructs that build up the logic
    based on multiple different conditions.</p>
    <blockquote>
    <p>When conditional code blocks are constituted by a single
    statement, brackets are optional:
    <code>if (i &gt; 0) printf(i);</code>.</p>
    </blockquote>
    <h2 id="switch">Switch</h2>
    <p>Another useful way to handle conditional blocks is by using
    <code>switch</code> keyword.</p>
    <div class="sourceCode" id="cb16"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">switch</span><span class="op">(</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="dv">5</span><span class="op">:</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>            printf<span class="op">(</span><span class="st">&quot;It is a five!&quot;</span><span class="op">);</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span><span class="op">;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="dv">3</span><span class="op">:</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>            printf<span class="op">(</span><span class="st">&quot;It&#39;s not a five.&quot;</span><span class="op">);</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span><span class="op">;</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">default</span><span class="op">:</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>            printf<span class="op">(</span><span class="st">&quot;No case matched.&quot;</span><span class="op">);</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span><span class="op">;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>Switch blocks can be used to execute code based on a matching
    condition in an elegant way. Each case code block have to be
    terminated with the <code>break</code> keyword to avoid executing
    following code blocks too.</p>
    <h1 id="iterating">Iterating</h1>
    <p>To be <a
    href="https://en.wikipedia.org/wiki/Turing_completeness">Turing-complete</a>,
    a language must have some kind of looping logic. <em>C</em> has many
    way to iterate the execution of a code block: <code>for</code>,
    <code>while</code>, <code>do-while</code>. Loops let the program
    jump at the start of a code block for multiple iteration each time
    the condition is met. A way to achieve the same result is by using
    the keyword <code>goto</code>.</p>
    <p>The keyword <code>goto</code> interrupt the program execution and
    start from a specified <em>label</em>.</p>
    <div class="sourceCode" id="cb17"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>again<span class="op">:</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    i<span class="op">++;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">)</span> <span class="cf">goto</span> again<span class="op">;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>In the example, when the condition is met, the instruction
    <code>goto</code> make the program jump back to the line under the
    specified label.</p>
    <p>The logic to iterate a code block or a set of instruction can be
    also written by using a <em>while loop</em>.</p>
    <div class="sourceCode" id="cb18"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(</span>i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        i<span class="op">++;</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <h2 id="recursion">Recursion</h2>
    <p>Another way to execute multiple times a specific code block, is
    by using recursion. We talk about recursion when a function call
    itself. In the following example, <code>count</code> is a recursive
    function.</p>
    <div class="sourceCode" id="cb19"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> count<span class="op">(</span><span class="dt">int</span> start<span class="op">,</span> <span class="dt">int</span> end<span class="op">)</span> <span class="op">{</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>start <span class="op">&gt;</span> end<span class="op">)</span> <span class="cf">return</span><span class="op">;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> start<span class="op">);</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    count<span class="op">(</span>start <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> end<span class="op">);</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    count<span class="op">(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">9</span><span class="op">);</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>Calling multiple time the same functions is equivalent to have
    multiple code blocks and—as said—each code block instantiate its
    variables in different memory addresses. This means that recursion,
    by instantiating multiple time the same variables, uses more memory
    than a simple while loop.</p>
    <p>The recursive function <em>count</em> can be written using
    <code>goto</code> instead of recursion.</p>
    <div class="sourceCode" id="cb20"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> count<span class="op">(</span><span class="dt">int</span> start<span class="op">,</span> <span class="dt">int</span> end<span class="op">)</span> <span class="op">{</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>start <span class="op">&gt;</span> end<span class="op">)</span> <span class="cf">return</span><span class="op">;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>iterate<span class="op">:</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> start<span class="op">);</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    start<span class="op">++;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">goto</span> iterate<span class="op">;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <h2 id="for-loops">For loops</h2>
    <p>Another way to iterate over elements is by using a <em>for
    loop</em>.</p>
    <div class="sourceCode" id="cb21"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>This kind of loop defines the starting value of the loop counter,
    the exit condition and the increment rule on the same line, then
    defines the code to be executed in a code block. Loop counter, exit
    condition and increment rule can be omitted and handled manually if
    necessary.</p>
    <div class="sourceCode" id="cb22"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span><span class="op">(;;)</span> <span class="op">{</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>i <span class="op">&lt;</span> <span class="dv">10</span><span class="op">)</span> <span class="cf">break</span><span class="op">;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">);</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        i<span class="op">++;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <blockquote>
    <p>It’s important to notice that if the loop counter is defined the
    same time it is initialized, the variable will be local to the loop
    block.</p>
    </blockquote>
    <h1 id="pointers">Pointers</h1>
    <p>Pointers are special variables that indicate an area of the
    memory of a specific type. They are declared with an asterisk as in
    the expression: <code>int *y;</code> where <code>int</code> denotes
    the type of the data allocated at the address. Pointers can map an
    address of any type and its size depends on the machine’s address
    size.</p>
    <p>Every variable has its own address in memory, to get the address
    of a given variable, can be used the operator:
    <code>&amp;</code>.</p>
    <div class="sourceCode" id="cb23"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> <span class="op">*</span>y <span class="op">=</span> <span class="op">&amp;</span>x<span class="op">;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;x is stored at the address: </span><span class="sc">%p\n</span><span class="st">&quot;</span><span class="op">,</span> y<span class="op">);</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>Values of variables can be modified interacting with its pointer
    too, so <code>*y = 10</code> would alter the value of the variable
    <code>x</code> if the variable is declared as equal to the address
    of x: <code>int *y = &amp;x</code>.</p>
    <p>Pointers are extremely powerful because they make possible
    updating variables without any extra memory allocation. It is
    possible, in fact, to update a variable by calling a function that
    does not instantiate any local variable but only access and
    manipulate the value using its pointer.</p>
    <div class="sourceCode" id="cb24"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> incr<span class="op">(</span><span class="dt">int</span> <span class="op">*</span>p<span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>p <span class="op">=</span> <span class="op">*</span>p <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> <span class="op">*</span>y <span class="op">=</span> <span class="op">&amp;</span>x<span class="op">;</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;x was: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// This instruction alters the value of x using its pointer</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    incr<span class="op">(</span>y<span class="op">);</span> </span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;x now is: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> x<span class="op">);</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <blockquote>
    <p>Pointers have always the size of a <code>intptr_t</code> as it
    represents a memory address. The type declared with the pointer
    indicates the type of the data stored at the given address.</p>
    </blockquote>
    <h2 id="pointers-math">Pointer’s math</h2>
    <p>To access the value stored in a memory address defined by a
    pointer, it is necessary to dereference it using <code>*</code>.</p>
    <div class="sourceCode" id="cb25"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> x <span class="op">=</span> <span class="dv">5</span><span class="op">;</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> <span class="op">*</span>y <span class="op">=</span> <span class="op">&amp;</span>x<span class="op">;</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;x is: </span><span class="sc">%d\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">*</span>y<span class="op">);</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>However, such operation, can also be done using the form:
    <code>y[0]</code> which is commonly used for arrays. This type of
    representation of the values stored in specific addresses is very
    useful when combined with the fact that, pointers, follow a very
    specific math and their index can be incremented to access
    contiguous memory addresses.</p>
    <div class="sourceCode" id="cb26"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> x<span class="op">[]</span> <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="op">;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">// In C, array&#39;s names are also pointers.</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> <span class="op">*</span>p <span class="op">=</span> x<span class="op">;</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;At second position value is </span><span class="sc">%c\n</span><span class="st">&quot;</span><span class="op">,</span> p<span class="op">[</span><span class="dv">1</span><span class="op">]);</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;At third position value is </span><span class="sc">%c\n</span><span class="st">&quot;</span><span class="op">,</span> <span class="op">*(</span>p <span class="op">+</span> <span class="dv">2</span><span class="op">));</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>Accessing data in that way works with all types—the language will
    handle the incrementation accounting for different types by
    incrementing the address by the given index multiplied by
    <code>sizeof(&lt;type&gt;)</code>.</p>
    <p>The fact that pointers are similar to arrays, combined with the
    fact that operations are much simplified on pointers, is very
    powerful and give developers much expression strength.</p>
    <div class="sourceCode" id="cb27"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> x<span class="op">[]</span> <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="op">;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> <span class="op">*</span>p <span class="op">=</span> x<span class="op">;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span><span class="op">(*</span>p <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        putchar<span class="op">(*</span>p<span class="op">);</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>        p<span class="op">++;</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>Pointers are variables, and as such, they are stored in some
    address in memory. This make it possible to have pointers to
    pointers: <code>int **z = &amp;y;</code> where <code>y</code> is a
    pointer to an integer.</p>
    <blockquote>
    <p>For a comprehensive program that make use of all concepts
    introduced, check out <a
    href="https://github.com/simone-lungarella/the-bloody-way-to-c/blob/master/programs/life-game.c">Conway’s
    Game of Life</a>.</p>
    </blockquote>
    <h1 id="working-with-memory">Working with memory</h1>
    <p>In <em>C</em>, memory is handled manually by the developers. This
    is a very powerful feature of the language but make it very easily
    error-prone.</p>
    <p>We use <code>malloc()</code> to allocate part of the memory and
    <code>free()</code> to release it.</p>
    <div class="sourceCode" id="cb28"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;unistd.h&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> <span class="op">*</span>mystr <span class="op">=</span> malloc<span class="op">(</span><span class="dv">11</span><span class="op">);</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    mystr <span class="op">=</span> <span class="st">&quot;Hello World&quot;</span><span class="op">;</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;</span><span class="sc">%s</span><span class="st">&quot;</span><span class="op">,</span> mystr<span class="op">);</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    free<span class="op">(</span>mystr<span class="op">);</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
    <p>For a better use case, you can check <a
    href="https://github.com/simone-lungarella/the-bloody-way-to-c/blob/master/programs/prefixed-string.c">Prefixed
    Strings</a>.</p>
    <h1 id="structures">Structures</h1>
    <p>When working on complex scenarios, built-in <em>C</em> types are
    often not enough. In <em>C</em>, it is possible to define structures
    having specific fields using the keyword <code>struct</code>.</p>
    <div class="sourceCode" id="cb29"><pre
    class="sourceCode c"><code class="sourceCode c"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdlib.h&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> item <span class="op">{</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> value<span class="op">;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">char</span> <span class="op">*</span>name<span class="op">;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">struct</span> item <span class="op">*</span>building <span class="op">=</span> malloc<span class="op">(</span><span class="kw">sizeof</span><span class="op">(</span><span class="kw">struct</span> item<span class="op">));</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    building<span class="op">-&gt;</span>name <span class="op">=</span> <span class="st">&quot;House&quot;</span><span class="op">;</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    building<span class="op">-&gt;</span>value <span class="op">=</span> <span class="dv">10000</span><span class="op">;</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">&quot;Building: </span><span class="sc">%s</span><span class="st"> has the value of: </span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">,</span> building<span class="op">-&gt;</span>name<span class="op">,</span> building<span class="op">-&gt;</span>value<span class="op">);</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
  </main>
</body>
</html>
